const mongoose   = require('mongoose');
const crypto     = require('crypto');
const Schema = mongoose.Schema;


const DashboardStatSchema = new Schema({
    exchange_id         : String,
    engine_stat         : [Schema.Types.Mixed],
    exchange_suspended  : { type : Boolean, default : false},
    total_engine        : [String],
    suspended_engine    : [String]
});
//, { strict: false }

DashboardStatSchema.pre('save',function(next){
    const self  = this;
    const id    = 'ds' + crypto.randomBytes(16).toString('hex');
    self.uid  = id;
    next();
});

mongoose.model('DashboardStat', DashboardStatSchema)
module.exports = ['DashboardStat', DashboardStatSchema]