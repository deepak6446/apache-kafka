var mongoose = require('mongoose');
var uuid = require("uuid/v4");
var Schema = mongoose.Schema;

var runFlowTestSchema = new Schema({
    uid: { type: String },
    payload: { type: String },
    user_uid: { type: String },
    sid: { type: String },
    env_uid: { type: String, default: null },
    deleted_at: { type: Date, default: null }
}, { timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' } });

runFlowTestSchema.pre('save', function (next) {
    var id = 'rt' + uuid()
    this.uid = id
    next()
});

mongoose.model('RunFlowTest', runFlowTestSchema);
module.exports = ['RunFlowTest', runFlowTestSchema];