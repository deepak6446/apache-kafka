"use strict";

const mongoose = require('mongoose');
const mconnect = require('./mconnectlib');

function load(name, instance) {
    const [mName, model] = require(`./${name}`);
    if (instance) {
        return instance.model(mName, model);
    }
    return mongoose.model(mName);

}

module.exports = {
    mongoose: mongoose,
    load: load,
    get: load,
    getConnStr: mconnect.getConnStr,
    connect: mconnect.connect,
    createConnection: mconnect.createConnection
}